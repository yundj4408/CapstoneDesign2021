<!doctype html><html lang="en-GB"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="profile" href="https://gmpg.org/xfn/11" /><meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' /> <!-- Optimized by SG Optimizer plugin version - 5.7.20 --><script type="application/ld+json">{"@context":"http:\/\/schema.org","publisher":{"@type":"Organization","name":"Last Minute Engineers","logo":{"@type":"ImageObject","url":"https:\/\/lastminuteengineers.com\/wp-content\/themes\/twentynineteen-child\/logo\/LastMinuteEngineers.png","height":90,"width":168}},"@type":"BlogPosting","mainEntityOfPage":"https:\/\/lastminuteengineers.com\/a4988-stepper-motor-driver-arduino-tutorial\/","headline":"Control Stepper Motor with A4988 Driver Module &#038; Arduino","datePublished":"2018-11-28T15:59:55+00:00","dateModified":"2020-12-18T14:33:22+00:00","author":{"@type":"Person","name":"Last Minute Engineers"},"image":{"@type":"ImageObject","url":"https:\/\/lastminuteengineers.com\/wp-content\/uploads\/2019\/12\/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg","width":763,"height":435}}</script> <!-- This site is optimized with the Yoast SEO plugin v16.1.1 - https://yoast.com/wordpress/plugins/seo/ --><title>In-Depth: Control Stepper Motor with A4988 Driver Module &amp; Arduino</title><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin/><style type="text/css">@font-face {
 font-family: 'Roboto';
 font-style: normal;
 font-weight: 400;
 font-display: swap;
 src: url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxP.ttf) format('truetype');
}
@font-face {
 font-family: 'Roboto';
 font-style: normal;
 font-weight: 500;
 font-display: swap;
 src: url(https://fonts.gstatic.com/s/roboto/v20/KFOlCnqEu92Fr1MmEU9fBBc9.ttf) format('truetype');
}
@font-face {
 font-family: 'Roboto Mono';
 font-style: normal;
 font-weight: 400;
 font-display: swap;
 src: url(https://fonts.gstatic.com/s/robotomono/v12/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW9.ttf) format('truetype');
} </style><meta name="description" content="Learn about A4988 Stepper Motor Driver along with Pinout, Wiring, Arduino Code for Microstepping, Controlling Speed &amp; Direction of NEMA 17 Stepper Motor" /><link rel="canonical" href="https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/" /><meta property="og:locale" content="en_GB" /><meta property="og:type" content="article" /><meta property="og:title" content="In-Depth: Control Stepper Motor with A4988 Driver Module &amp; Arduino" /><meta property="og:description" content="Learn about A4988 Stepper Motor Driver along with Pinout, Wiring, Arduino Code for Microstepping, Controlling Speed &amp; Direction of NEMA 17 Stepper Motor" /><meta property="og:url" content="https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/" /><meta property="og:site_name" content="Last Minute Engineers" /><meta property="article:published_time" content="2018-11-28T15:59:55+00:00" /><meta property="article:modified_time" content="2020-12-18T14:33:22+00:00" /><meta property="og:image" content="https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg" /><meta property="og:image:width" content="763" /><meta property="og:image:height" content="435" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:label1" content="Written by"><meta name="twitter:data1" content="Last Minute Engineers"><meta name="twitter:label2" content="Estimated reading time"><meta name="twitter:data2" content="12 minutes"> <!-- / Yoast SEO plugin. --><link rel='dns-prefetch' href='//www.googletagmanager.com' /><link rel='stylesheet' id='twentynineteen-style-css'  href='https://lastminuteengineers.com/wp-content/themes/twentynineteen-child/style.css' type='text/css' media='all' /> <script type='text/javascript' src='https://www.googletagmanager.com/gtag/js?id=UA-121719862-1' id='google_gtagjs-js' async></script> <script type='text/javascript' id='google_gtagjs-js-after'> window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["lastminuteengineers.com"]} );
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-121719862-1", {"anonymize_ip":true}); </script><link rel="https://api.w.org/" href="https://lastminuteengineers.com/wp-json/" /><link rel="alternate" type="application/json" href="https://lastminuteengineers.com/wp-json/wp/v2/posts/1264" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://lastminuteengineers.com/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://lastminuteengineers.com/wp-includes/wlwmanifest.xml" /><meta name="generator" content="WordPress 5.7.1" /><link rel='shortlink' href='https://lastminuteengineers.com/?p=1264' /><link rel="alternate" type="application/json+oembed" href="https://lastminuteengineers.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Flastminuteengineers.com%2Fa4988-stepper-motor-driver-arduino-tutorial%2F" /><link rel="alternate" type="text/xml+oembed" href="https://lastminuteengineers.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Flastminuteengineers.com%2Fa4988-stepper-motor-driver-arduino-tutorial%2F&#038;format=xml" /><meta name="generator" content="Site Kit by Google 1.32.0" /><link rel="preconnect" href="https://www.googleapis.com/" crossorigin><link rel="preconnect" href="https://www.google.com/" crossorigin><link rel="preconnect" href="https://cse.google.com/" crossorigin><link rel="preload" as="style" href="https://lastminuteengineers.com/wp-content/themes/twentynineteen-child/style.css"><link rel="icon" type="image/png" href="https://lastminuteengineers.com/wp-content/uploads/logo/Favicon.png"> <script type="text/javascript">window.onload = function(){jQuery.noConflict();}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-121719862-1"></script> <script> window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());  gtag('config', 'UA-121719862-1'); </script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({
 google_ad_client: "ca-pub-2705735538096223",
 enable_page_level_ads: true
 }); </script><link rel="amphtml" href="https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/amp/"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({"google_ad_client":"ca-pub-2705735538096223","enable_page_level_ads":true,"tag_partner":"site_kit"});</script></head><body class="post-template-default single single-post postid-1264 single-format-standard wp-embed-responsive singular image-filters-enabled"><div id="page" class="site"><header id="masthead" class="site-header"><div class="container"><div class="header-wrapper"><div class="sitelogo"> <a href="https://lastminuteengineers.com/" rel="home"> <svg xmlns="http://www.w3.org/2000/svg" width="166.5" height="54" viewBox="9.25 3 166.5 54"><path fill="#fbc531" d="M22.57 32.57L36.2 8.6l-25.9 25.46-.05.05a3.45 3.45 0 0 0-1 2.44A3.46 3.46 0 0 0 12.7 40h17l2.24-7.43h-9.38z"/><path fill="#4285F4" d="M41.84 27.43L28.19 51.41 54.1 25.95l.05-.04a3.45 3.45 0 0 0 1-2.44A3.46 3.46 0 0 0 51.7 20h-17l-2.24 7.42h9.38z"/><path fill="#454545" d="M64.85 48.56l3.37-15.6h9.17l-.65 2.89h-6.01L70.08 39h5.3l-.62 2.83h-5.3l-.82 3.83h6.48l-.65 2.9h-9.62zm21.51 0a86.81 86.81 0 0 0-1.9-5.31 55.1 55.1 0 0 0-2.25-5.02l-2.23 10.33h-3.1l3.36-15.6h2.41c.31.53.65 1.15 1 1.86a74.18 74.18 0 0 1 1.1 2.31 102.72 102.72 0 0 1 2.22 5.22l2-9.38h3.14l-3.38 15.6h-2.37zm12.72-2.7a7.55 7.55 0 0 0 1.32-.11l1.17-5.42h3.16l-1.7 7.8a9.2 9.2 0 0 1-1.64.49c-.72.15-1.63.23-2.74.23-.94 0-1.77-.15-2.5-.46a4.82 4.82 0 0 1-1.81-1.32 5.6 5.6 0 0 1-1.1-2.06 9.59 9.59 0 0 1-.36-2.75c0-1.17.19-2.33.56-3.49a9.53 9.53 0 0 1 1.65-3.09c.73-.9 1.63-1.65 2.71-2.22a7.86 7.86 0 0 1 5.78-.54c.73.21 1.38.53 1.96.95l-1.14 2.72a5.37 5.37 0 0 0-1.5-.74 5.28 5.28 0 0 0-1.57-.25c-.83 0-1.56.17-2.2.52a4.98 4.98 0 0 0-1.63 1.4 6.46 6.46 0 0 0-1.01 2.06 8.73 8.73 0 0 0-.35 2.48c0 1.32.25 2.28.74 2.9.5.6 1.23.9 2.2.9zm10.12-12.9h3.16l-3.38 15.6h-3.14l3.36-15.6zm12.44 15.6a87.5 87.5 0 0 0-1.9-5.31 54.83 54.83 0 0 0-2.25-5.02l-2.23 10.33h-3.1l3.36-15.6h2.41c.31.53.65 1.15 1 1.86.36.72.73 1.48 1.1 2.31a99.27 99.27 0 0 1 2.21 5.22l2-9.38h3.15L124 48.56h-2.37zm5.55 0l3.36-15.6h9.17l-.64 2.89h-6.02L132.4 39h5.3l-.62 2.83h-5.3l-.82 3.83h6.48l-.65 2.9h-9.61zm12.03 0l3.36-15.6h9.17l-.65 2.89h-6.01l-.65 3.15h5.3l-.62 2.83h-5.3l-.82 3.83h6.48l-.65 2.9h-9.61zm19.34-15.77c.9 0 1.69.12 2.37.36.67.24 1.23.56 1.68.96.44.4.77.89.99 1.43a4.67 4.67 0 0 1 .32 1.72c0 .5-.05.99-.15 1.47a4.16 4.16 0 0 1-.57 1.37 4.91 4.91 0 0 1-1.1 1.2 6.2 6.2 0 0 1-1.8.94c.38.78.77 1.72 1.16 2.83a59.42 59.42 0 0 1 1.13 3.49h-3.38a282.28 282.28 0 0 0-.95-3.07 15.43 15.43 0 0 0-1.06-2.62h-1.58l-1.23 5.69h-3.14l3.3-15.37a19.5 19.5 0 0 1 2.12-.32 22.12 22.12 0 0 1 1.89-.08zm-.1 2.97a15.37 15.37 0 0 0-1.32.06l-.91 4.28h1.07c.65 0 1.2-.07 1.64-.2.45-.14.8-.32 1.07-.54.27-.23.46-.49.58-.78a2.43 2.43 0 0 0 .07-1.62 1.46 1.46 0 0 0-.36-.62 1.83 1.83 0 0 0-.71-.43 3.5 3.5 0 0 0-1.13-.15zm10 10.19c.31 0 .62-.02.93-.08a2.57 2.57 0 0 0 .83-.28c.24-.14.44-.33.6-.57.15-.25.23-.57.23-.96 0-.3-.07-.56-.22-.77a2.77 2.77 0 0 0-.57-.6 5.37 5.37 0 0 0-.77-.5 12.7 12.7 0 0 1-.85-.49 11.58 11.58 0 0 1-1.03-.77 4.47 4.47 0 0 1-.83-.9 4.53 4.53 0 0 1-.55-1.13 4.61 4.61 0 0 1-.2-1.43c0-.7.12-1.33.35-1.93a4.2 4.2 0 0 1 1.06-1.54 4.94 4.94 0 0 1 1.75-1.02 7.44 7.44 0 0 1 4.86.05 6.31 6.31 0 0 1 1.7.88l-1.31 2.6a4.56 4.56 0 0 0-2.82-1.02c-.31 0-.6.03-.89.09a2.16 2.16 0 0 0-.75.3 1.6 1.6 0 0 0-.52.55c-.13.23-.19.5-.19.84 0 .3.05.55.15.75.1.2.24.38.4.53.16.15.35.28.56.4l.7.39c.41.24.81.5 1.2.76.4.27.74.59 1.04.94a4.2 4.2 0 0 1 .97 2.8c0 .85-.14 1.6-.42 2.23a4.28 4.28 0 0 1-1.2 1.57 5.08 5.08 0 0 1-1.83.94c-.71.2-1.5.3-2.36.3a7.7 7.7 0 0 1-1.59-.16 10.5 10.5 0 0 1-1.34-.37 6.61 6.61 0 0 1-1.03-.46 6.13 6.13 0 0 1-.7-.45l1.34-2.68a6.6 6.6 0 0 0 2.29 1.07c.32.08.66.12 1 .12zM77.48 24.61l-.35 1.67h-7.49L72.72 12h1.8l-2.73 12.6h5.69zm6.98 1.79a8.6 8.6 0 0 1-.18-.5 4.48 4.48 0 0 1-.15-.6 5.6 5.6 0 0 1-1.1.83c-.45.28-1.01.41-1.68.41-.54 0-1.01-.1-1.4-.28a2.52 2.52 0 0 1-.95-.8 3.49 3.49 0 0 1-.55-1.22 6.35 6.35 0 0 1-.17-1.54c0-.92.13-1.82.41-2.7a7.1 7.1 0 0 1 1.25-2.35 6.33 6.33 0 0 1 2.1-1.67 6.45 6.45 0 0 1 4.1-.51c.45.08.84.22 1.16.41l-1.43 6.47-.16.9c-.04.29-.06.6-.06.9a6.12 6.12 0 0 0 .33 2l-1.52.25zm-2.76-1.48c.52 0 .97-.13 1.34-.37.37-.25.69-.54.96-.87a10.57 10.57 0 0 1 .19-1.5l1.1-5.1A1.1 1.1 0 0 0 85 17a4.24 4.24 0 0 0-.38-.02c-.7 0-1.34.15-1.9.46a4.65 4.65 0 0 0-1.46 1.2 5.45 5.45 0 0 0-.93 1.75A6.73 6.73 0 0 0 80 22.5c0 .29.02.58.07.87.05.3.14.56.27.79.13.22.3.4.52.55.22.14.5.22.84.22zm8.36.02c.26 0 .52-.03.79-.09.26-.05.5-.14.7-.26.2-.13.37-.3.5-.5.13-.22.2-.48.2-.8 0-.2-.03-.39-.1-.55a1.34 1.34 0 0 0-.3-.44 2.95 2.95 0 0 0-.5-.4c-.2-.13-.45-.28-.74-.44a10.8 10.8 0 0 1-.77-.46 2.82 2.82 0 0 1-.62-.53c-.18-.2-.32-.45-.42-.73s-.15-.62-.15-1.02c0-1.03.33-1.86 1-2.48.67-.63 1.64-.94 2.91-.94a5.65 5.65 0 0 1 2.5.56l-.65 1.56a3.86 3.86 0 0 0-.83-.35 4.12 4.12 0 0 0-1.28-.18c-.23 0-.47.02-.7.08a1.9 1.9 0 0 0-.64.28c-.2.13-.35.3-.46.51a1.58 1.58 0 0 0-.18.77c0 .37.13.68.39.92s.65.49 1.17.75c.32.17.6.33.86.5.25.18.47.37.65.58.18.22.31.47.4.75.1.3.14.64.14 1.03 0 .58-.1 1.09-.3 1.53a2.95 2.95 0 0 1-.82 1.09 3.56 3.56 0 0 1-1.25.65 5.48 5.48 0 0 1-1.57.21 6.48 6.48 0 0 1-2.03-.3 3.9 3.9 0 0 1-.63-.26 5.42 5.42 0 0 1-.38-.22l.66-1.56a5.16 5.16 0 0 0 .92.45 4.94 4.94 0 0 0 1.53.29zm8.22 1.62c-.92 0-1.6-.22-2.03-.68-.44-.45-.65-1.1-.65-1.97 0-.57.09-1.29.26-2.17l1.98-9.15 1.8-.33-.72 3.31h3.27l-.35 1.6h-3.28l-1.02 4.74c-.14.65-.22 1.2-.22 1.69 0 .45.11.78.33.98.23.2.6.3 1.11.3a3 3 0 0 0 1.06-.2c.35-.13.61-.25.8-.36l.13 1.63c-.19.12-.5.25-.95.4a4.88 4.88 0 0 1-1.51.21zm20.7-11.48a157.96 157.96 0 0 0-1.7 2.76l-1.08 1.8-1.07 1.8-.97 1.63-.72 1.23H112a157.98 157.98 0 0 0-.47-2.87l-.3-1.81-.32-1.8-.28-1.58a70.2 70.2 0 0 0-.23-1.16 205.99 205.99 0 0 0-1.52 5.47c-.5 1.88-.97 3.79-1.44 5.72h-1.78a205.25 205.25 0 0 1 1.94-7.44 259.75 259.75 0 0 1 1.01-3.55c.34-1.15.67-2.24 1-3.27h1.76l.47 2.14c.17.82.33 1.69.5 2.58a109.53 109.53 0 0 1 .82 5.12l1.48-2.45a1380.44 1380.44 0 0 1 3.2-5.26 81.42 81.42 0 0 1 1.38-2.13h1.72c-.2 2.32-.49 4.68-.84 7.07a267.5 267.5 0 0 1-1.16 7.2h-1.8c.38-1.98.72-3.9 1.02-5.76.31-1.86.59-3.67.82-5.44zm4.02 11.2h-1.72l2.31-10.71h1.72L123 26.27zm2-12.64a.97.97 0 0 1-.71-.3 1.1 1.1 0 0 1-.29-.8c0-.44.12-.78.37-1.04s.53-.38.84-.38a1 1 0 0 1 .72.3c.2.2.3.48.3.84 0 .41-.13.74-.4 1-.25.25-.53.38-.83.38zm2.32 12.63h-1.73l2.23-10.29a12.51 12.51 0 0 1 1.84-.46 10.34 10.34 0 0 1 1.77-.18c.56 0 1.03.09 1.44.26s.73.4.97.7c.25.3.43.65.55 1.07a5 5 0 0 1 .17 1.37c0 .32-.02.65-.07 1s-.11.7-.19 1.06l-1.18 5.47h-1.73l1.1-5.06.25-1.17c.08-.4.12-.78.12-1.14 0-.54-.14-1-.4-1.36-.28-.37-.79-.55-1.53-.55-.31 0-.61.02-.9.06a4.05 4.05 0 0 0-.75.17l-1.96 9.05zm11.7.27c-.54 0-1-.09-1.36-.26a2.45 2.45 0 0 1-.89-.73 2.81 2.81 0 0 1-.49-1.07 5.63 5.63 0 0 1-.15-1.31c0-.36.03-.71.09-1.06.05-.35.12-.7.2-1.06l1.18-5.48h1.72l-1.1 5.07a35.49 35.49 0 0 1-.23 1.1 5.56 5.56 0 0 0-.09 2c.05.22.13.42.25.59.11.17.27.3.47.41.2.1.44.16.74.16.53 0 1-.13 1.4-.38a4.04 4.04 0 0 0 1-.9 11.18 11.18 0 0 1 .2-1.44l1.42-6.61h1.72l-1.46 6.77-.16.92a6.21 6.21 0 0 0-.06.92 5.91 5.91 0 0 0 .33 1.97l-1.52.25a6.58 6.58 0 0 1-.18-.51 4.25 4.25 0 0 1-.15-.62 6.63 6.63 0 0 1-.48.43 3.58 3.58 0 0 1-.64.41 4.33 4.33 0 0 1-.8.31c-.3.08-.61.12-.95.12zm9.67.02c-.92 0-1.6-.22-2.03-.68s-.65-1.1-.65-1.97c0-.57.09-1.29.26-2.17l1.98-9.15 1.8-.33-.73 3.31h3.28l-.35 1.6h-3.28l-1.02 4.74c-.14.65-.22 1.2-.22 1.69 0 .45.11.78.33.98.23.2.6.3 1.11.3.36 0 .71-.07 1.06-.2.35-.13.61-.25.8-.36l.13 1.63c-.19.12-.5.25-.95.4a4.88 4.88 0 0 1-1.52.21zm7.66-.02c-.63 0-1.17-.1-1.63-.3a3.17 3.17 0 0 1-1.15-.82 3.33 3.33 0 0 1-.69-1.23 4.9 4.9 0 0 1-.22-1.48c0-.96.13-1.88.39-2.78a7.93 7.93 0 0 1 1.11-2.36 5.57 5.57 0 0 1 1.76-1.64 4.57 4.57 0 0 1 3.66-.39 2.3 2.3 0 0 1 1.4 1.44 3.1 3.1 0 0 1 .17 1c0 .65-.1 1.19-.32 1.64a3.39 3.39 0 0 1-.83 1.12 3.69 3.69 0 0 1-1.22.7 9.59 9.59 0 0 1-1.44.39c-.5.1-1 .16-1.52.2l-1.45.09c-.02.1-.02.2-.02.27v.16c0 .32.03.62.1.9a1.7 1.7 0 0 0 1.15 1.24c.33.13.76.19 1.29.19a5.46 5.46 0 0 0 2.44-.7l.15 1.62a6.6 6.6 0 0 1-3.13.74zm-1.76-5.88a22.9 22.9 0 0 0 1.96-.16c.6-.07 1.1-.2 1.54-.39.43-.19.77-.44 1.01-.75a1.98 1.98 0 0 0 .3-1.63 1.02 1.02 0 0 0-.23-.38 1.17 1.17 0 0 0-.43-.29 1.84 1.84 0 0 0-.69-.11c-.43 0-.83.1-1.21.3a3.76 3.76 0 0 0-1.01.82c-.3.34-.55.73-.76 1.17a6.93 6.93 0 0 0-.48 1.42z"/></svg> </a></div> <label for="menu-checkbox" class="menu-checkbox-label"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19"><path fill="#454545" d="M6.561 0H2.197A2.2 2.2 0 0 0 0 2.197V6.56a2.2 2.2 0 0 0 2.197 2.197H6.56A2.2 2.2 0 0 0 8.757 6.56V2.197A2.198 2.198 0 0 0 6.561 0zm.712 6.561c0 .394-.32.713-.713.713H2.197a.713.713 0 0 1-.713-.713V2.197c0-.394.32-.713.713-.713H6.56c.393 0 .713.319.713.713v4.364zM16.773 0h-4.305a2.23 2.23 0 0 0-2.227 2.227v4.305a2.23 2.23 0 0 0 2.227 2.227h4.305A2.231 2.231 0 0 0 19 6.531V2.227A2.23 2.23 0 0 0 16.773 0zm.743 6.531a.743.743 0 0 1-.742.742h-4.305a.743.743 0 0 1-.742-.742V2.227c0-.409.333-.742.742-.742h4.305c.409 0 .742.333.742.742v4.304zM6.561 10.242H2.197A2.2 2.2 0 0 0 0 12.439v4.363A2.2 2.2 0 0 0 2.197 19H6.56a2.2 2.2 0 0 0 2.197-2.197V12.44a2.199 2.199 0 0 0-2.196-2.198zm.712 6.561c0 .393-.32.713-.713.713H2.197a.714.714 0 0 1-.713-.713V12.44c0-.393.32-.713.713-.713H6.56c.393 0 .713.32.713.713v4.363zM16.773 10.242h-4.305a2.23 2.23 0 0 0-2.227 2.227v4.305a2.23 2.23 0 0 0 2.227 2.227h4.305A2.231 2.231 0 0 0 19 16.773v-4.305a2.23 2.23 0 0 0-2.227-2.226zm.743 6.531a.743.743 0 0 1-.742.742h-4.305a.743.743 0 0 1-.742-.742v-4.305c0-.409.333-.742.742-.742h4.305c.409 0 .742.333.742.742v4.305z"></path></svg></label> <input id="menu-checkbox" type="checkbox" name="msc" class="hide-checkbox"><div class="menu-search-wrapper"><div class="search-box"> <script> (function() {
 var cx = '006007372603907121706:6uxkvpewtny';
 var gcse = document.createElement('script');
 gcse.type = 'text/javascript';
 gcse.async = true;
 gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
 var s = document.getElementsByTagName('script')[0];
 s.parentNode.insertBefore(gcse, s);
 })(); </script> <gcse:search></gcse:search></div><nav class="header-nav"> <b>Tutorials</b><ul class="dropdown"><li><a href="https://lastminuteengineers.com/electronics/basic-electronics/" class="bas">Basic Electronics</a></li><li><a href="https://lastminuteengineers.com/electronics/arduino-projects/" class="ard">Arduino</a></li><li><a href="https://lastminuteengineers.com/electronics/esp32-projects/" class="esp">ESP32</a></li><li><a href="https://lastminuteengineers.com/electronics/esp8266-projects/" class="esp">ESP8266</a></li></ul></nav></div> <label for="menu-checkbox" class="sidebar-overlay"></label></div></div> <label for="nav-sidebar-checkbox" class="nav-sidebar-label"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="15"><path fill="#454545" d="M19.999 1.034c0 .571-.463 1.035-1.033 1.035H1.034a1.033 1.033 0 1 1 0-2.069h17.932c.57 0 1.033.463 1.033 1.034zM19.999 7.5c0 .571-.463 1.034-1.033 1.034H1.034a1.034 1.034 0 0 1 0-2.068h17.932c.57 0 1.033.464 1.033 1.034zM20 13.966c0 .571-.464 1.034-1.034 1.034H1.034a1.033 1.033 0 1 1 0-2.068h17.932c.57 0 1.034.463 1.034 1.034z"/></svg></label> <style type="text/css"> .dropdown a:before
 {
 display: inline-block;
 position: relative;
 background-repeat: no-repeat;
 }
 .py:before
 {
 content:'';
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' version='1' viewBox='0 76 24 24'%3E%3Cpath fill='%23FFD141' d='M12 100c7 0 6-2 6-2v-3h-6v-1h8s4 0 4-6-3-6-3-6h-2v3s0 4-3 4h-6s-3 0-3 3v5s-1 3 5 3zm4-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2z'/%3E%3Cpath fill='%233773A6' d='M12 76c-6 0-6 3-6 3v3h6v1H4s-4-1-4 5 4 6 4 6h1v-3s0-3 4-3h6s3 0 3-3v-5s0-4-6-4zm-3 2a1 1 0 1 1 0 2 1 1 0 0 1 0-2z'/%3E%3C/svg%3E");
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 }
 .ard:before
 {
 content:'';
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='4.5 0 24 24'%3E%3Cpath fill='%2300878F' d='M12 9a4 4 0 0 0-.6 0 3.2 3.2 0 0 0-3.2 3c0 1.7 1.4 3 3.2 3h.5c2-.3 3.2-2.2 3.7-3-.5-.8-1.7-2.8-3.7-3zm1.4 3.6H9.7v-1.2h3.7v1.2zM21.6 9a4 4 0 0 0-.5 0c-2 .2-3.2 2.2-3.7 3 .5.8 1.7 2.7 3.7 3h.5c1.8 0 3.2-1.3 3.2-3s-1.4-3-3.2-3zm1.7 3.6H22v1.3h-1.2v-1.3h-1.2v-1.2h1.2v-1.3H22v1.3h1.3v1.2z'/%3E%3Cpath fill='%2300878F' d='M16.5 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm5 16.8l-.7-.1a6.5 6.5 0 0 1-4.3-3 6.5 6.5 0 0 1-4.3 3h-.8c-2.7 0-5-2-5-4.7a4.9 4.9 0 0 1 5.8-4.7c2 .3 3.5 1.8 4.3 3a6.5 6.5 0 0 1 4.3-3h.8c2.7 0 5 2 5 4.7 0 2.6-2.3 4.8-5 4.8z'/%3E%3C/svg%3E");
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 }
 .esp:before
 {
 content:'';
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 906.9 24 24'%3E%3Cpath fill='%23CC111F' d='M9.9 928.4c-.8-.3-1-.9-1-.9-.1 0 .7-1.3.7-1.9v-1.2a3.8 3.8 0 0 0-3.6-3.2 4 4 0 0 1-1.7-.4 4 4 0 0 1-1.8-1.8c-.3-.6-.5-1.2-.5-1.7l.3-1.8a4.2 4.2 0 0 1 3.1-2.5h1.9a12.1 12.1 0 0 1 10.4 14.9c-.1 0-1.4.7-2.2.7s-1.4-.5-1.5-.6l.5-2v-2a8.7 8.7 0 0 0-7.6-7.6c-.9-.1-1.1 0-1.3.3v.9l.9.2a7.2 7.2 0 0 1 5.9 10.4l-.4.7s-1.4-.1-2.1-.5z'/%3E%3Cpath fill='%23CC111F' d='M19.4 925.2l-.1-2a13.6 13.6 0 0 0-10.7-11.4c-.8-.2-2.9-.3-2.9-.3s-.2-1.2 0-1.8S8 908 8 908h.2A17 17 0 0 1 22.7 923c0 .2-.7 2-1.5 2.2s-1.8 0-1.8 0z'/%3E%3Cpath fill='%23CC111F' d='M23.2 919l-.1-.4c-.3-.9-.9-2-1.3-2.8a18.6 18.6 0 0 0-9.9-8.2l.1-.4c.1-.3 0-.3.7-.3A11 11 0 0 1 24 918.8l-.7.2z'/%3E%3Ccircle fill='%23CC111F' cx='6.1' cy='924.7' r='1.9'/%3E%3Cpath fill='%23CC111F' d='M13 930a12 12 0 0 1-8.4-20.6l-.7-.7a13 13 0 0 0 9.1 22.2 13 13 0 0 0 9.2-3.8l-.7-.7a12 12 0 0 1-8.5 3.5z'/%3E%3C/svg%3E");
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 }
 .bas:before {
 content: '';
 width: 24px;
 height: 24px;
 top: 6px;
 left: -10px;
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='11.88' y1='44.54' x2='28.85' y2='27.57' gradientTransform='matrix(1 0 0 -1 -8.36 48.05)'%3E%3Cstop offset='0' stop-color='%23752891'/%3E%3Cstop offset='1' stop-color='%23ee2c7e'/%3E%3C/linearGradient%3E%3Ccircle fill='url(%23a)' cx='12' cy='12' r='12'/%3E%3Cpath fill='%23FFF' d='M21.5 12a10.8 10.8 0 01-.73 4.4c-.3.72-.71 1.43-1.33 2.07a4.1 4.1 0 01-2.54 1.2 3.83 3.83 0 01-2.87-.98 7.68 7.68 0 01-1.62-2.02c-.8-1.38-1.3-2.77-1.8-4.11-.5-1.34-.94-2.66-1.49-3.81a6.64 6.64 0 00-.9-1.46c-.3-.37-.66-.54-.9-.6h-.39c-.07 0-.2 0-.3.04-.21.06-.43.17-.67.32-.47.3-.92.78-1.32 1.31A21.3 21.3 0 002.5 12c0-1.47.3-2.93.85-4.37.3-.7.7-1.41 1.3-2.06a4.13 4.13 0 011.83-1.13l.42-.09.27-.03a3.9 3.9 0 012.9 1.07c.71.63 1.17 1.34 1.57 2.03.79 1.39 1.29 2.77 1.79 4.11.48 1.34.93 2.66 1.48 3.8.27.56.59 1.07.9 1.43.34.35.59.52 1 .56.46.05.9-.07 1.38-.35a5 5 0 001.3-1.28A17.19 17.19 0 0021.5 12z'/%3E%3C/svg%3E");
 } </style></header><div id="content" class="site-content"><section id="primary" class="content-area"><main id="main" class="site-main"><div class="post-wrapper"> <input id="nav-sidebar-checkbox" type="checkbox" name="lfs" class="hide-checkbox"><nav class="nav-sidebar-wrapper"><div id="nav-sidebar" class="nav-sidebar"><div class="textwidget custom-html-widget"><div id="chapters"><p class="nav-title">Wireless &amp; IoT</p><div class="nav-section"> <a href="https://lastminuteengineers.com/sim800l-gsm-module-arduino-tutorial/">SIM800L GSM Module</a> <a href="https://lastminuteengineers.com/a6-gsm-gprs-module-arduino-tutorial/">A6 GSM GPRS Module</a> <a href="https://lastminuteengineers.com/sim900-gsm-shield-arduino-tutorial/">SIM900 GSM Shield</a> <a href="https://lastminuteengineers.com/nrf24l01-arduino-wireless-communication/">NRF24L01 Wireless Module</a> <a href="https://lastminuteengineers.com/433mhz-rf-wireless-arduino-tutorial/">433Mhz RF Wireless Module</a> <a href="https://lastminuteengineers.com/neo6m-gps-arduino-tutorial/">NEO6M GPS Module</a></div><p class="nav-title">Sensors</p><div class="nav-section"> <a href="https://lastminuteengineers.com/adxl335-accelerometer-arduino-tutorial/">ADXL335 Accelerometer</a> <a href="https://lastminuteengineers.com/mpu6050-accel-gyro-arduino-tutorial/">MPU6050 Gyroscope</a> <a href="https://lastminuteengineers.com/pir-sensor-arduino-tutorial/">PIR Sensor (HC-SR501)</a> <a href="https://lastminuteengineers.com/arduino-sr04-ultrasonic-sensor-tutorial/">SR04 Ultrasonic Sensor</a> <a href="https://lastminuteengineers.com/dht11-dht22-arduino-tutorial/">DHT11/DHT22 Temp Sensor</a> <a href="https://lastminuteengineers.com/dht11-module-arduino-tutorial/">DHT11 Module</a> <a href="https://lastminuteengineers.com/mq2-gas-senser-arduino-tutorial/">MQ2 Gas Sensor</a> <a href="https://lastminuteengineers.com/mq3-alcohol-sensor-arduino-tutorial/">MQ3 Alcohol Sensor</a> <a href="https://lastminuteengineers.com/ds18b20-arduino-tutorial/">DS18B20 Temp. Sensor</a> <a href="https://lastminuteengineers.com/multiple-ds18b20-arduino-tutorial/">Multiple DS18B20 Sensors</a> <a href="https://lastminuteengineers.com/bme280-arduino-tutorial/">BME280 Pressure Sensor</a> <a href="https://lastminuteengineers.com/bmp180-arduino-tutorial/">BMP180 Pressure Sensor</a> <a href="https://lastminuteengineers.com/how-rfid-works-rc522-arduino-tutorial/">RC522 RFID Module</a> <a href="https://lastminuteengineers.com/sound-sensor-arduino-tutorial/">Sound Sensor</a> <a href="https://lastminuteengineers.com/soil-moisture-sensor-arduino-tutorial/">Soil Moisture Sensor</a> <a href="https://lastminuteengineers.com/water-level-sensor-arduino-tutorial/">Water Level Sensor</a> <a href="https://lastminuteengineers.com/rain-sensor-arduino-tutorial/">Rain Sensor</a> <a href="https://lastminuteengineers.com/fsr-arduino-tutorial/">Force Sensor(FSR)</a> <a href="https://lastminuteengineers.com/flex-sensor-arduino-tutorial/">Flex Sensor</a> <a href="https://lastminuteengineers.com/pulse-sensor-arduino-tutorial/">Pulse Sensor</a> <a href="https://lastminuteengineers.com/tcs230-tcs3200-color-sensor-arduino-tutorial/">TCS230 Color Sensor</a></div><p class="nav-title">Displays</p><div class="nav-section"> <a href="https://lastminuteengineers.com/arduino-1602-character-lcd-tutorial/">16×2 LCD Display</a> <a href="https://lastminuteengineers.com/i2c-lcd-arduino-tutorial/">I2C LCD Display</a> <a href="https://lastminuteengineers.com/seven-segment-arduino-tutorial/">7 Segment Display</a> <a href="https://lastminuteengineers.com/nokia-5110-lcd-arduino-tutorial/">Nokia 5110 Graphic LCD</a> <a href="https://lastminuteengineers.com/oled-display-arduino-tutorial/">OLED Graphic Display</a> <a href="https://lastminuteengineers.com/tm1637-arduino-tutorial/">TM1637 7 Segment Display</a> <a href="https://lastminuteengineers.com/max7219-dot-matrix-arduino-tutorial/">MAX7219 Dot Matrix Display</a></div><p class="nav-title">Motors</p><div class="nav-section"> <a href="https://lastminuteengineers.com/servo-motor-arduino-tutorial/">Servo Motor</a> <a href="https://lastminuteengineers.com/28byj48-stepper-motor-arduino-tutorial/">28BYJ-48 Stepper Motor</a> <a href="https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/">A4988 Stepper Driver</a> <a href="https://lastminuteengineers.com/drv8825-stepper-motor-driver-arduino-tutorial/">DRV8825 Stepper Driver</a> <a href="https://lastminuteengineers.com/l293d-motor-driver-shield-arduino-tutorial/">L293D Motor Driver Shield</a> <a href="https://lastminuteengineers.com/l298n-dc-stepper-driver-arduino-tutorial/">L298N with DC Motor </a> <a href="https://lastminuteengineers.com/stepper-motor-l298n-arduino-tutorial/">L298N with Stepper Motor </a> <a href="https://lastminuteengineers.com/l293d-dc-motor-arduino-tutorial/">L293D IC with DC Motor </a> <a href="https://lastminuteengineers.com/stepper-motor-l293d-arduino-tutorial/">L293D IC with Stepper Motor </a></div><p class="nav-title">Modules</p><div class="nav-section"> <a href="https://lastminuteengineers.com/rotary-encoder-arduino-tutorial/">Rotary Encoder</a> <a href="https://lastminuteengineers.com/one-channel-relay-module-arduino-tutorial/">One Channel Relay Module</a> <a href="https://lastminuteengineers.com/two-channel-relay-module-arduino-tutorial/">Two Channel Relay Module</a> <a href="https://lastminuteengineers.com/74hc595-shift-register-arduino-tutorial/">74HC595 Shift Register</a> <a href="https://lastminuteengineers.com/joystick-interfacing-arduino-processing/">2-Axis Joystick</a> <a href="https://lastminuteengineers.com/ds3231-rtc-arduino-tutorial/">DS3231 RTC Module</a> <a href="https://lastminuteengineers.com/ds1307-rtc-arduino-tutorial/">DS1307 RTC Module</a> <a href="https://lastminuteengineers.com/arduino-keypad-tutorial/">4×4 Membrane Keypad</a> <a href="https://lastminuteengineers.com/arduino-micro-sd-card-module-tutorial/">Micro SD Card Module</a></div></div></div></div> <label for="nav-sidebar-checkbox" class="sidebar-overlay"></label></nav><div class="post-1264 post type-post status-publish format-standard has-post-thumbnail hentry category-arduino-projects entry"><article id="post-1264"><div class="post-header"><div class="post-title"><h1 class="entry-title">Control Stepper Motor with A4988 Driver Module &#038; Arduino</h1></div></div><div class="entry-content"><div class="featured-image"><figure class="post-thumbnail"><img width="763" height="435" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg" class="attachment-post-single size-post-single wp-post-image lazyload" alt="Tutorial For Interfacing A4988 Stepper Motor Driver With Arduino" loading="lazy" data-srcset="https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg 763w, https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino-300x171.jpg 300w" sizes="(max-width: 763px) 100vw, 763px" /><noscript><img width="763" height="435" src="https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg" class="attachment-post-single size-post-single wp-post-image lazyload" alt="Tutorial For Interfacing A4988 Stepper Motor Driver With Arduino" loading="lazy" srcset="https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg 763w, https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino-300x171.jpg 300w" sizes="(max-width: 763px) 100vw, 763px" /></noscript></figure></div><p>If you are planning on building your own 3D printer or a CNC machine, you will need to control a bunch of stepper motors. And having one Arduino control all of them can take up a lot of the processing and not leave you a lot of room to do anything else; unless you use a self-contained dedicated stepper motor driver &#8211;<strong> A4988</strong>.</p><p>It can control both speed and spinning direction of a bipolar stepper motor like NEMA 17 with just two pins. How cool is that!</p><div class="simple-note"><h3><b>Do you know how stepper motors work?</b></h3><p>The stepper motors use a cogged wheel and electromagnets to rotate the wheel one &#8216;step&#8217; at a time.</p><p>Each HIGH pulse sent, energizes the coil, attracts the nearest teeth of the cogged wheel and drives the motor one step.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Stepper-Motor-Working-Animation.gif" alt="stepper motor working animation" width="240" height="241"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Stepper-Motor-Working-Animation.gif" alt="stepper motor working animation" width="240" height="241"></noscript></figure></div><p>The way you pulse these coils greatly affects the behavior of the motor.</p><ul><li>The sequence of pulses determines the spinning direction of the motor.</li><li>The frequency of the pulses determines the speed of the motor.</li><li>The number of pulses determines how far the motor will turn.</li></ul></div><h2 id="a4988-stepper-motor-driver-chip">A4988 Stepper Motor Driver Chip</h2><p>At the heart of the module is a Microstepping Driver from Allegro &#8211; A4988. It&#8217;s small in stature (only 0.8&#8243; × 0.6&#8243;) but still packs a punch.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Chip.jpg" width="360" height="208" alt="A4988 Stepper Motor Driver Chip"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Chip.jpg" width="360" height="208" alt="A4988 Stepper Motor Driver Chip"></noscript></figure></div><p>The A4988 stepper motor driver has output drive capacity of up to 35 V and ±2A and lets you control one bipolar stepper motor at up to 2A output current per coil like NEMA 17.</p><p>The driver has built-in translator for easy operation. This reduces the number of control pins to just 2, one for controlling the steps and other for controlling spinning direction.</p><p>The driver offers 5 different step resolutions viz. full-step, half-step, quarter-step, eighth-step, and sixteenth-step.</p><h2 id="a4988-motor-driver-pinout">A4988 Motor Driver Pinout</h2><p>The A4988 driver has total 16 pins that interface it to the outside world. The connections are as follows:</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Pinout.png" width="431" height="280" alt="A4988 Stepper Motor Driver Pinout"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Pinout.png" width="431" height="280" alt="A4988 Stepper Motor Driver Pinout"></noscript></figure></div><p>Let&#8217;s familiarize ourselves with all the pins one by one.</p><h2 id="power-connection-pins">Power Connection Pins</h2><p>The A4988 actually requires two power supply connections.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Power-Supply-Inputs.png" width="297" height="208" alt="A4988 Stepper Motor Driver Power Supply Inputs"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Power-Supply-Inputs.png" width="297" height="208" alt="A4988 Stepper Motor Driver Power Supply Inputs"></noscript></figure></div><p><span class="pinout pinout-red">VDD</span> &amp; <span class="pinout pinout-black">GND</span> is used for driving the internal logic circuitry which can be 3V to 5.5 V.</p><p>Whereas,</p><p><span class="pinout pinout-red">VMOT</span> &amp; <span class="pinout pinout-black">GND</span> supplies power for the motor which can be 8V to 35 V.</p><p>According to datasheet, the motor supply requires appropriate decoupling capacitor close to the board, capable of sustaining 4A.</p><div class="simple-note"><p><b>Warning:</b></p><p>This driver has low-ESR ceramic capacitors on board, which makes it vulnerable to voltage spikes. In some cases, these spikes can exceed the 35V(maximum voltage rating of A4988), potentially permanently damaging the board and even the motor.</p><p>One way to protect the driver from such spikes is to put a large 100µF (at least 47µF) electrolytic capacitor across motor power supply pins.</p></div><h2 id="microstep-selection-pins">Microstep Selection Pins</h2><p>The A4988 driver allows microstepping by allowing intermediate step locations. This is achieved by energizing the coils with intermediate current levels.</p><p>For example, if you choose to drive NEMA 17 having 1.8° or 200 steps per revolution in quarter-step mode, the motor will give 800 microsteps per revolution.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Microstep-Selection-Inputs.png" width="286" height="208" alt="A4988 Stepper Motor Driver Microstep Selection Inputs"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Microstep-Selection-Inputs.png" width="286" height="208" alt="A4988 Stepper Motor Driver Microstep Selection Inputs"></noscript></figure></div><p>The A4988 driver has three step size(resolution) selector inputs viz. <span class="pinout pinout-dark-blue">MS1, MS2 &amp; MS3</span> . By setting appropriate logic levels to these pins we can set the motors to one of the five step resolutions.</p><div class="tablescroll"><table class="tabler max550"><tbody><tr class="tabler-header"><td>MS1</td><td>MS2</td><td>MS3</td><td>Microstep Resolution</td></tr><tr><td>Low</td><td>Low</td><td>Low</td><td>Full step</td></tr><tr><td>High</td><td>Low</td><td>Low</td><td>Half step</td></tr><tr><td>Low</td><td>High</td><td>Low</td><td>Quarter step</td></tr><tr><td>High</td><td>High</td><td>Low</td><td>Eighth step</td></tr><tr><td>High</td><td>High</td><td>High</td><td>Sixteenth step</td></tr></tbody></table></div><p>These three microstep selection pins are pulled LOW by internal pull-down resistors, so if we leave them disconnected, the motor will operate in full step mode.</p><h2 id="control-input-pins">Control Input Pins</h2><p>The A4988 has two control inputs viz. STEP and DIR.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Motor-Control-Inputs.png" width="286" height="208" alt="A4988 Stepper Motor Driver Motor Control Inputs"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Motor-Control-Inputs.png" width="286" height="208" alt="A4988 Stepper Motor Driver Motor Control Inputs"></noscript></figure></div><p><span class="pinout pinout-green">STEP</span> input controls the mirosteps of the motor. Each HIGH pulse sent to this pin steps the motor by number of microsteps set by Microstep Selection Pins. The faster the pulses, the faster the motor will rotate.</p><p><span class="pinout pinout-purple">DIR</span> input controls the spinning direction of the motor. Pulling it HIGH drives the motor clockwise and pulling it LOW drives the motor counterclockwise.</p><p>If you just want the motor to rotate in a single direction, you can tie DIR directly to VCC or GND accordingly.</p><div class="simple-note"><p>The STEP and DIR pins are not pulled to any particular voltage internally, so you should not leave them floating in your application.</p></div><h2 id="pins-for-controlling-power-states">Pins For Controlling Power States</h2><p>The A4988 has three different inputs for controlling its power states viz. EN, RST, and SLP.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Power-States-Control-Inputs.png" width="285" height="208" alt="A4988 Stepper Motor Driver Power States Control Inputs"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Power-States-Control-Inputs.png" width="285" height="208" alt="A4988 Stepper Motor Driver Power States Control Inputs"></noscript></figure></div><p><span class="pinout pinout-gray">EN</span> Pin is active low input, when pulled LOW(logic 0) the A4988 driver is enabled. By default this pin is pulled low so the driver is always enabled, unless you pull it HIGH.</p><p><span class="pinout pinout-yellow">SLP</span> Pin is active low input. Meaning, pulling this pin LOW puts the driver in sleep mode, minimizing the power consumption. You can invoke this especially when the motor is not in use to conserve power.</p><p><span class="pinout pinout-orange">RST</span> is also an active low input. When pulled LOW, all STEP inputs are ignored, until you pull it HIGH. It also resets the driver by setting the internal translator to a predefined Home state. Home state is basically the initial position from where the motor starts and it&#8217;s different depending upon the microstep resolution.</p><div class="simple-note"><h3>TIP</h3><p>The RST pin is floating. If you are not using the pin, you can connect it to the adjacent SLP/SLEEP pin to bring it high and enable the driver.</p></div><h2 id="outputpins">Output Pins</h2><p>The A4988 motor driver’s output channels are broken out to the edge of the module with <span class="pinout pinout-blue">1B, 1A, 2A &amp; 2B</span> pins.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Output-Pins.png" width="291" height="208" alt="A4988 Stepper Motor Driver Output Pins"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Output-Pins.png" width="291" height="208" alt="A4988 Stepper Motor Driver Output Pins"></noscript></figure></div><p>You can connect any bipolar stepper motor having voltages between 8V to 35 V to these pins.</p><p>Each output pin on the module can deliver up to 2A to the motor. However, the amount of current supplied to the motor depends on system’s power supply, cooling system &amp; current limiting setting.</p><h2 id="cooling-system-heatsink">Cooling System &#8211; Heatsink</h2><p>Excessive power dissipation of the A4988 driver IC results in the rise of temperature that can go beyond the capacity of IC, probably damaging itself.</p><p>Even if the A4988 driver IC has a maximum current rating of 2A per coil, the chip can only supply approximately 1A per coil without getting overheated.</p><p>For achieving more than 1A per coil, a heat sink or other cooling method is required.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Heatsink.jpg" width="353" height="241" alt="A4988 Stepper Motor Driver Heatsink"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Stepper-Motor-Driver-Heatsink.jpg" width="353" height="241" alt="A4988 Stepper Motor Driver Heatsink"></noscript></figure></div><p>The A4988 driver usually comes with a heatsink. It is advisable to install it before you use the driver.</p><h2 id="current-limiting">Current limiting</h2><p>Before using the motor, there&#8217;s a small adjustment that we need to make. We need to limit the maximum amount of current flowing through the stepper coils and prevent it from exceeding the motor&#8217;s rated current.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Current-Limiting-Potentiometer.jpg" width="292" height="208" alt=""><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/A4988-Current-Limiting-Potentiometer.jpg" width="292" height="208" alt=""></noscript></figure></div><p>There&#8217;s a small trimmer potentiometer on the A4988 driver that can be used to set the current limit. You should set the current limit to be at or lower than the current rating of the motor.</p><p>To make this adjustment there are two methods:</p><h3>Method 1:</h3><p>In this method we are going to set the current limit by measuring the voltage (Vref) on the &#8220;ref&#8221; pin.</p><ol><li>Take a look at the datasheet for your stepper motor. Note down it’s rated current. In our case we are using NEMA 17 200steps/rev, 12V 350mA.</li><li>Put the driver into full-step mode by leaving the three microstep selection pins disconnected.</li><li>Hold the motor at a fixed position by not clocking the STEP input.</li><li>Measure the voltage (Vref) on the metal trimmer pot itself while you adjust it.</li><li>Adjust the Vref voltage using the formula<p class="special-text"> Current Limit = Vref x 2.5</p> For example, if your motor is rated for 350mA, you would adjust the reference voltage to 0.14V.</li></ol><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Measuring-Vref-Voltage-Setting-Current-Limit-for-A4988-with-Multimeter.png" alt="measuring vref voltage setting current limit for a4988 with multimeter" width="661" height="309"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Measuring-Vref-Voltage-Setting-Current-Limit-for-A4988-with-Multimeter.png" alt="measuring vref voltage setting current limit for a4988 with multimeter" width="661" height="309"></noscript></figure></div><div class="simple-note"><p><b>Tip:</b></p><p>An easy way to make adjustments is to use an alligator clip on the shaft of a metal screwdriver and attach that to your multimeter so that you can measure and adjust the voltage with the screwdriver at the same time.</p></div><h3>Method 2:</h3><p>In this method we are going to set the current limit by measuring the current running through the coil.</p><ol><li>Take a look at the datasheet for your stepper motor. Note down it&#8217;s rated current. In our case we are using NEMA 17 200steps/rev, 12V 350mA.</li><li>Put the driver into full-step mode by leaving the three microstep selection pins disconnected.</li><li>Hold the motor at a fixed position by not clocking the STEP input. Do not leave the STEP input floating, connect it to logic power supply(5V)</li><li>Place the ammeter in series with one of the coils on your stepper motor and measure the actual current flowing.</li><li>Take a small screwdriver and adjust the current limit potentiometer until you reach rated current.</li></ol><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Measuring-Coil-Current-Setting-Current-Limit-for-A4988-with-Multimeter.png" alt="measuring coil current setting current limit for a4988 with multimeter" width="714" height="335"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Measuring-Coil-Current-Setting-Current-Limit-for-A4988-with-Multimeter.png" alt="measuring coil current setting current limit for a4988 with multimeter" width="714" height="335"></noscript></figure></div><div class="simple-note"><p>You will need to perform this adjustment again if you ever change the logic voltage(VDD)</p></div><h2 id="wiring-a4988-stepper-motor-driver-with-arduino-uno">Wiring A4988 stepper motor driver with Arduino UNO</h2><p>Now that we know everything about the driver, we will connect it to our Arduino.</p><p>Connections are fairly simple. Start by connecting VDD and GND(next to VDD) to the 5V and ground pins on the Arduino. DIR and STEP input pins are connected to #2 &amp; #3 digital output pins on Arduino respectively.</p><p>connect the stepper motor to the 2B, 2A, 1A &amp; 1B pins. Actually A4988 is conveniently laid out to match the 4-pin connector on several bipolar motors so, that shouldn&#8217;t be a problem.</p><div class="simple-note"><p><b>Warning:</b></p><p>Connecting or disconnecting a stepper motor while the driver is powered can destroy the driver.</p></div><p>Next, Connect RST pin to the adjacent SLP/SLEEP pin to keep the driver enabled. Also keep the microstep selection pins disconnected to operate the motor in full step mode.</p><p>Finally, connect the motor power supply to the VMOT and GND pins. Remember to put a large 100µF decoupling electrolytic capacitor across motor power supply pins, close to the board.</p><div class="wp-block-image size-full"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Wiring-Nema-17-Stepper-Motor-to-A4988-driver-Arduino.png" width="700" height="262" alt="Wiring Nema 17 Stepper Motor to A4988 driver &amp; Arduino"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Wiring-Nema-17-Stepper-Motor-to-A4988-driver-Arduino.png" width="700" height="262" alt="Wiring Nema 17 Stepper Motor to A4988 driver &amp; Arduino"></noscript></figure></div><h2 id="arduino-code-controlling-a-stepper-motor">Arduino Code – Basic Example</h2><p>The following sketch will give you complete understanding on how to control speed and spinning direction of a bipolar stepper motor with A4988 stepper motor driver and can serve as the basis for more practical experiments and projects.</p><div class="example"><pre><code><span class="com">// Define pin connections &amp; motor's steps per revolution</span>
<span class="kwd">const</span> <span class="kwd">int</span> dirPin = <span class="lit">2</span>;
<span class="kwd">const</span> <span class="kwd">int</span> stepPin = <span class="lit">3</span>;
<span class="kwd">const</span> <span class="kwd">int</span> stepsPerRevolution = <span class="lit">200</span>;

<span class="kwd">void</span> <span class="func">setup</span>()
{
	<span class="com">// Declare pins as Outputs</span>
	<span class="func">pinMode</span>(stepPin, OUTPUT);
	<span class="func">pinMode</span>(dirPin, OUTPUT);
}
<span class="kwd">void</span> <span class="func">loop</span>()
{
	<span class="com">// Set motor direction clockwise</span>
	<span class="func">digitalWrite</span>(dirPin, HIGH);

	<span class="com">// Spin motor slowly</span>
	<span class="kwd">for</span>(<span class="kwd">int</span> x = <span class="lit">0</span>; x &lt; stepsPerRevolution; x++)
	{
		<span class="func">digitalWrite</span>(stepPin, HIGH);
		<span class="func">delayMicroseconds</span>(<span class="lit">2000</span>);
		<span class="func">digitalWrite</span>(stepPin, LOW);
		<span class="func">delayMicroseconds</span>(<span class="lit">2000</span>);
	}
	<span class="func">delay</span>(<span class="lit">1000</span>); <span class="com">// Wait a second</span>
	
	<span class="com">// Set motor direction counterclockwise</span>
	<span class="func">digitalWrite</span>(dirPin, LOW);

	<span class="com">// Spin motor quickly</span>
	<span class="kwd">for</span>(<span class="kwd">int</span> x = <span class="lit">0</span>; x &lt; stepsPerRevolution; x++)
	{
		<span class="func">digitalWrite</span>(stepPin, HIGH);
		<span class="func">delayMicroseconds</span>(<span class="lit">1000</span>);
		<span class="func">digitalWrite</span>(stepPin, LOW);
		<span class="func">delayMicroseconds</span>(<span class="lit">1000</span>);
	}
	<span class="func">delay</span>(<span class="lit">1000</span>); <span class="com">// Wait a second</span>
}</code></pre></div><h3 id="code-explanation">Code Explanation:</h3><p>The sketch starts with defining Arduino pins to which A4988&#8217;s STEP &amp; DIR pins are connected. We also define <code>stepsPerRevolution</code>. Set this to match your stepper motor specifications.</p><div class="example"><pre><code><span class="kwd">const</span> <span class="kwd">int</span> dirPin = <span class="lit">2</span>;
<span class="kwd">const</span> <span class="kwd">int</span> stepPin = <span class="lit">3</span>;
<span class="kwd">const</span> <span class="kwd">int</span> stepsPerRevolution = <span class="lit">200</span>;</code></pre></div><p>In setup section of code, all the motor control pins are declared as digital OUTPUT.</p><div class="example"><pre><code><span class="func">pinMode</span>(stepPin, OUTPUT);
<span class="func">pinMode</span>(dirPin, OUTPUT);</code></pre></div><p>In loop section we spin the motor clockwise slowly and then spin it counterclockwise quickly at an interval of a second.</p><p><strong>Control Spinning Direction</strong>: To control the spinning direction of a motor we set the DIR pin either HIGH or LOW. A HIGH input spins the motor clockwise and a LOW will spin it counterclockwise.</p><div class="example"><pre><code><span class="func">digitalWrite</span>(dirPin, HIGH);</code></pre></div><p><strong>Control Speed</strong>: The speed of a motor is determined by the frequency of the pulses we send to the STEP pin. The higher the pulses, the faster the motor runs. A pulses is nothing but pulling the output HIGH, waiting a bit then pulling it LOW and waiting again. By changing the delay between two pulses, you change the frequency of those pulses and hence the speed of a motor.</p><div class="example"><pre><code><span class="kwd">for</span>(<span class="kwd">int</span> x = <span class="lit">0</span>; x &lt; stepsPerRevolution; x++) {
	<span class="func">digitalWrite</span>(stepPin, HIGH);
	<span class="func">delayMicroseconds</span>(<span class="lit">1000</span>);
	<span class="func">digitalWrite</span>(stepPin, LOW);
	<span class="func">delayMicroseconds</span>(<span class="lit">1000</span>);
}</code></pre></div><h2>Arduino Code &#8211; Using AccelStepper library</h2><p>Controlling the stepper without a library is perfectly fine for simple, single motor applications. But when you want to control multiple steppers, you&#8217;ll need a library.</p><p>So, for our next experiment we will make use of an advanced stepper motor library called <a href="http://www.airspayce.com/mikem/arduino/AccelStepper/">AccelStepper library</a>. It supports:</p><ul><li>Acceleration and deceleration.</li><li>Multiple simultaneous steppers, with independent concurrent stepping on each stepper.</li></ul><p>This library is not included in the Arduino IDE, so you will need to install it first.</p><h3>Library Installation</h3><p>To install the library navigate to the Sketch &gt; Include Library &gt; Manage Libraries… Wait for Library Manager to download libraries index and update list of installed libraries.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Manage-Libraries.png" alt="manage libraries" width="531" height="535"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Manage-Libraries.png" alt="manage libraries" width="531" height="535"></noscript></figure></div><p>Filter your search by typing ‘accelstepper’. Click on the first entry, and then select Install.</p><div class="wp-block-image"><figure class="aligncenter"><img loading="lazy" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/h8AAvMB+NzmkbcAAAAASUVORK5CYII=" data-src="https://lastminuteengineers.com/wp-content/uploads/arduino/Installing-AccelStepper-Library.png" alt="installing accelstepper library" width="583" height="312"><noscript><img loading="lazy" class="lazyload" src="https://lastminuteengineers.com/wp-content/uploads/arduino/Installing-AccelStepper-Library.png" alt="installing accelstepper library" width="583" height="312"></noscript></figure></div><h3>Arduino Code</h3><p>Here’s the simple sketch that accelerates the stepper motor in one direction and then decelerates to come to rest. Once the motor makes one revolution, it changes the spinning direction. And it keeps doing that over and over again.</p><div class="example"><pre><code><span class="com">// Include the AccelStepper Library</span>
#include <span class="str">&lt;AccelStepper.h&gt;</span>

<span class="com">// Define pin connections</span>
<span class="kwd">const</span> <span class="kwd">int</span> dirPin = <span class="lit">2</span>;
<span class="kwd">const</span> <span class="kwd">int</span> stepPin = <span class="lit">3</span>;

<span class="com">// Define motor interface type</span>
#define motorInterfaceType 1

<span class="com">// Creates an instance</span>
AccelStepper <span class="func">myStepper</span>(motorInterfaceType, stepPin, dirPin);

<span class="kwd">void</span> <span class="func">setup</span>() {
	<span class="com">// set the maximum speed, acceleration factor,</span>
	<span class="com">// initial speed and the target position</span>
	myStepper.<span class="func">setMaxSpeed</span>(<span class="lit">1000</span>);
	myStepper.<span class="func">setAcceleration</span>(<span class="lit">50</span>);
	myStepper.<span class="func">setSpeed</span>(<span class="lit">200</span>);
	myStepper.<span class="func">moveTo</span>(<span class="lit">200</span>);
}

<span class="kwd">void</span> <span class="func">loop</span>() {
	<span class="com">// Change direction once the motor reaches target position</span>
	<span class="kwd">if</span> (myStepper.<span class="func">distanceToGo</span>() == <span class="lit">0</span>) 
		myStepper.<span class="func">moveTo</span>(-myStepper.<span class="func">currentPosition</span>());

	<span class="com">// Move the motor one step</span>
	myStepper.<span class="func">run</span>();
}</code></pre></div><h3>Code Explanation:</h3><p>We start off by including the newly installed AccelStepper library.</p><div class="example"><pre><code>#include <span class="str">&lt;AccelStepper.h&gt;</span></code></pre></div><p>We define Arduino pins to which A4988’s STEP &amp; DIR pins are connected. We also set <code>motorInterfaceType</code> to 1. (1 means an external stepper driver with Step and Direction pins)</p><div class="example"><pre><code><span class="com">// Define pin connections</span>
<span class="kwd">const</span> <span class="kwd">int</span> dirPin = <span class="lit">2</span>;
<span class="kwd">const</span> <span class="kwd">int</span> stepPin = <span class="lit">3</span>;

<span class="com">// Define motor interface type</span>
#define motorInterfaceType 1</code></pre></div><p>Next, we create an instance of stepper library called <code>myStepper</code>.</p><div class="example"><pre><code>AccelStepper <span class="func">myStepper</span>(motorInterfaceType, stepPin, dirPin);</code></pre></div><p>In the setup function we first set the maximum speed of the motor to a thousand. We then set an acceleration factor for the motor to add acceleration and deceleration to the movements of the stepper motor.</p><p>Next we set the regular speed of 200 and the number of steps we&#8217;re going to move it to i.e. 200 (as NEMA 17 moves 200 steps per revolution).</p><div class="example"><pre><code><span class="kwd">void</span> <span class="func">setup</span>() {
	myStepper.<span class="func">setMaxSpeed</span>(<span class="lit">1000</span>);
	myStepper.<span class="func">setAcceleration</span>(<span class="lit">50</span>);
	myStepper.<span class="func">setSpeed</span>(<span class="lit">200</span>);
	myStepper.<span class="func">moveTo</span>(<span class="lit">200</span>);
}</code></pre></div><p>In the loop function, we use an If statement to check how far the motor needs to travel (by reading the <code>distanceToGo</code> property) until it reaches the target position (set by <code>moveTo</code>). Once <code>distanceToGo</code> reaches zero we will move the motor in the opposite direction by changing the <code>moveTo</code> position to the negative of its current position.</p><p>Now at the bottom of the loop you&#8217;ll notice we have called a <code>run()</code> function. This is the most important function, because the stepper will not run until this function is executed.</p><div class="example"><pre><code><span class="kwd">void</span> <span class="func">loop</span>() {
	<span class="kwd">if</span> (myStepper.<span class="func">distanceToGo</span>() == <span class="lit">0</span>) 
		myStepper.<span class="func">moveTo</span>(-myStepper.<span class="func">currentPosition</span>());

	myStepper.<span class="func">run</span>();
}</code></pre></div></div></article><div class="social-sharing bottom-sharing"><div class="share-text-wrap"><div class="share-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="12" height="13" viewBox="-0.4 -0.3 12 13"><path fill="#444" d="M1.6 8.2c.6 0 1-.2 1.4-.6l4.6 2.7v.5c0 1 .8 2 1.9 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.5 0-1 .2-1.3.5L3.5 6.6l.1-.4v-.5L8.1 3c.3.3.8.5 1.3.5a1.9 1.9 0 1 0-2-1.9c0 .2 0 .3.2.5L3 4.8c-.3-.3-.8-.5-1.3-.5a2 2 0 0 0-2 2c0 1 .8 1.9 2 1.9z"/></svg></div><div class="share-text">Share</div></div> <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?caption=Control+Stepper+Motor+with+A4988+Driver+Module+%26+Arduino&u=https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/" title="Share on facebook"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="7.81 7.81 26 26"><path d="M32 8.33H9.67c-.84 0-1.34.67-1.34 1.34v22.16c0 .84.67 1.34 1.34 1.34h12V23.5h-3.34v-3.67h3.34v-2.66c0-3.17 2-5 4.83-5 1.33 0 2.5.16 2.83.16v3.34h-2c-1.5 0-1.83.66-1.83 1.83v2.33h3.67l-.5 3.83H25.5v9.67h6.33c.84 0 1.34-.67 1.34-1.33V9.67c.16-.67-.5-1.34-1.17-1.34z"/></svg> </a> <a class="twitter" href="https://twitter.com/intent/tweet?text=Control+Stepper+Motor+with+A4988+Driver+Module+%26+Arduino&url=https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/&via=Last+Minute+Engineers" title="Share on twitter"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><path d="M25.49 5.16c-1 .33-1.84.66-3 .83a6.5 6.5 0 0 0 2.33-2.83c-1 .66-2.17 1-3.33 1.33-1-1-2.33-1.67-3.67-1.67A5.2 5.2 0 0 0 12.65 8c0 .33 0 .83.17 1.17-4.33-.34-8-2.34-10.66-5.5-.34.83-.67 1.66-.67 2.66 0 1.84.83 3.34 2.33 4.34-.83 0-1.66-.34-2.33-.67 0 2.5 1.83 4.67 4.17 5.17-.5.16-.84.16-1.34.16-.33 0-.66 0-1-.16.67 2 2.5 3.5 4.84 3.66-1.84 1.34-4 2.17-6.34 2.17H.66c2.33 1.5 5 2.33 7.83 2.33 9.5 0 14.66-7.83 14.66-14.83v-.67c.84-.66 1.67-1.66 2.34-2.66"/></svg> </a> <a class="pinterest" href="https://pinterest.com/pin/create/button/?url=https://lastminuteengineers.com/a4988-stepper-motor-driver-arduino-tutorial/&amp;media=https://lastminuteengineers.com/wp-content/uploads/2019/12/Tutorial-For-Interfacing-A4988-Stepper-Motor-Driver-With-Arduino.jpg&description=Control+Stepper+Motor+with+A4988+Driver+Module+%26+Arduino" title="Share on pinterest"> <svg xmlns="http://www.w3.org/2000/svg" width="27.2" height="27.2"><path d="M13.6.11a13.5 13.5 0 0 0-4.93 26.07c-.12-1.08-.22-2.7.05-3.88l1.58-6.7s-.4-.82-.4-2.01c0-1.89 1.08-3.29 2.42-3.29 1.16 0 1.7.88 1.7 1.91 0 1.15-.72 2.9-1.1 4.5-.33 1.34.66 2.43 2 2.43 2.4 0 4.24-2.53 4.24-6.18 0-3.22-2.33-5.5-5.64-5.5a5.85 5.85 0 0 0-6.1 5.86 5.2 5.2 0 0 0 1.01 3.09c.1.14.13.24.1.38l-.36 1.52c-.06.25-.2.3-.45.18C6.04 17.71 5 15.25 5 13.27 4.99 9 8.09 5.1 13.9 5.1c4.68 0 8.3 3.34 8.3 7.78 0 4.64-2.93 8.4-6.99 8.4-1.35 0-2.65-.72-3.1-1.55l-.83 3.2a15.47 15.47 0 0 1-1.68 3.55 13.5 13.5 0 1 0 4-26.37z"/></svg> </a></div></div><nav class="nav-rightbar-wrapper"><div class="nav-rightbar"><div class="story-highlights"><div class="tab"><label for="tab-title" class="story-highlights-title">Table Of Contents</label><input id="tab-title" type="checkbox" name="tabs"><label class="main-tab-icon tabicon" for="tab-title"></label><ul class="main-tab tab-content"><li><a href="#a4988-stepper-motor-driver-chip">A4988 Stepper Motor Driver Chip</a></li><li><a href="#a4988-motor-driver-pinout">A4988 Motor Driver Pinout</a></li><li><a href="#power-connection-pins">Power Connection Pins</a></li><li><a href="#microstep-selection-pins">Microstep Selection Pins</a></li><li><a href="#control-input-pins">Control Input Pins</a></li><li><a href="#pins-for-controlling-power-states">Pins For Controlling Power States</a></li><li><a href="#outputpins">Output Pins</a></li><li><a href="#cooling-system-heatsink">Cooling System Heatsink</a></li><li><a href="#current-limiting">Current limiting</a></li><li><a href="#wiring-a4988-stepper-motor-driver-with-arduino-uno">Wiring A4988 stepper motor driver with Arduino UNO</a></li><li class="tab"><a href="#arduino-code-controlling-a-stepper-motor">Arduino Code Controlling a Stepper Motor</a><input id="tab-10" type="checkbox" name="tabs"><label class="tabicon" for="tab-10"></label><ul class="tab-content"><li><a href="#code-explanation">- Code Explanation</a></li></ul></li></ul></div></div></div></nav></div></main></section> <style type="text/css" media="screen">.simple-note .wp-block-image img{margin:0}</style> <script type="text/javascript">window.onload=function(){function e(){var e=jQuery(".post").offset().top,r=jQuery(".post").offset().top+jQuery(".post").height(),n=jQuery(window).height(),o=jQuery(window).scrollTop()
e>o?(jQuery(".nav-sidebar").removeClass("scrolling-end"),jQuery(".nav-sidebar").removeClass("scrolling")):o+n>r?(jQuery(".nav-sidebar").addClass("scrolling-end"),jQuery(".nav-sidebar").removeClass("scrolling")):(jQuery(".nav-sidebar").addClass("scrolling"),jQuery(".nav-sidebar").removeClass("scrolling-end"))}e(),window.onscroll=function(){e()},jQuery("#chapters a").each(function(){jQuery(this).attr("href").includes(window.location.pathname)&&(jQuery(this).addClass("current-chapter"), jQuery("#nav-sidebar").scrollTop(jQuery("#nav-sidebar").scrollTop() + jQuery(this).parent("div").prev().position().top - 100))}),jQuery('#nav-sidebar').addClass("shownav"),jQuery("h2").each(function(){jQuery(this).append('<a href="#'+jQuery(this).attr("id")+'" class="hlink"></a>')}),jQuery(".example pre").each(function(){jQuery(this).prepend('<span class="ctext" title="Click to Copy"><span class="copied"></span></span>')}),jQuery(".ctext").on("click",function(){var e=document.createElement("textarea")
document.body.appendChild(e),e.value=jQuery(this).next().text(),e.select(),document.execCommand("copy",!1),e.remove(),jQuery(this).children(".copied").show().fadeOut(800)})}</script></div><footer id="colophon" class="site-footer"><div class="container"><ul class="footer-menu"><li><a href="https://lastminuteengineers.com/disclaimer/">Disclaimer</a></li><li><a href="https://lastminuteengineers.com/privacy-policy/">Privacy Policy</a></li><li class="invisi"><a href="https://lastminuteengineers.com/contact/">Contact Us</a></li></ul><div class="copyright">Copyright &copy; 2021 LastMinuteEngineers.com. All rights reserved.</div></div></footer> <noscript><style type="text/css" media="screen">.entry-content:before{content:"";background:-moz-linear-gradient(top,rgba(255,255,255,0) 0,#fff 100%);background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0,#fff 100%);background:linear-gradient(to bottom,rgba(255,255,255,0) 0,#fff 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 );display:block;position:absolute;height:300px;width:100%;bottom:0;z-index:2}article:after{content:"Please enable javascript to view this page properly";text-align:center;color:#ea4335;display:block;position:relative;bottom:-75px}article{margin-bottom:100px}.entry-content{max-height:1000px;overflow:hidden;position:relative}img.lazyload[data-src*="http"]{display:none}</style></noscript></div> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" async=""></script><script defer src="https://lastminuteengineers.com/wp-content/themes/twentynineteen-child/js/lazysizes.min.js"></script> <script> /(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1); </script></body></html>